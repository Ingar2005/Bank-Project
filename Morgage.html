<HTML lang="en">
<head>
    <meta charset="utf-8">
    <title>Morgage</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
</head>
    <body>
    <form id="calculator">

<!--        amoount =  Integer[0,]-->
<!--        term = Integer[1,]-->
<!--        income = Integer[0,]-->

        <label for="amount">Amount:</label>
        <input id="amount" type="number"  placeholder="Enter amount">
        <p id="amountError"></p>
        <br>
        <lable for="term" >Term (years):</lable>
        <input id="term" type="number" placeholder="Enter term">
        <p id="termError"></p>
       <br>
        <lable for="income">Monthly Income:</lable>
        <input id="income" type="number" placeholder="Enter Monthly income">
        <p id="incomeError"></p>
        <br>
        <button>Calculate</button>
    </form>
    <p id="eligiblity"></p>

    <script>

        $(document).ready(function(){
            $("#calculator").submit(function(event){
                event.preventDefault();

                $("#amountError").text("");
                $("#termError").text("");
                $("#incomeError").text("");
                $("#eligiblity").text("");


                const amount = $("#amount").val();
                const term = $("#term").val();
                const income = $("#income").val();

                if(amount < 0  || amount.length === 0){
                    $("#amountError").text("Amount must be a positive number");
                }
                if(term < 0  || term.length === 0){
                    $("#termError").text("Term must be greater than 0");
                }
                if(income < 0  || income.length === 0){
                    $("#incomeError").text("Income must be a positive number");
                }

                const months = term * 12;
                const intrestRate = 0.045
                const multiplier = (1 + intrestRate)**months;
                const monthlyPayment = (amount * intrestRate * multiplier) / (multiplier - 1)
                console.log(monthlyPayment);

                const threshHold = income * 0.30
                if (monthlyPayment < threshHold){
                    $("#eligiblity").text("We can gladly accept your request.", montlyPayment, "This will be your monthly payment");
                    } else {
                    $("#eligiblity").text("I am sorry but i cannot accept your request please make some more money")
                }

            }

            )
        })
    </script>
    </body>

</HTML>